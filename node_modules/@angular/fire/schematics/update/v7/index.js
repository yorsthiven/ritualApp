var $t=Object.create;var F=Object.defineProperty;var mt=Object.getOwnPropertyDescriptor;var Rt=Object.getOwnPropertyNames;var dt=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lt=(t,e)=>{for(var r in e)F(t,r,{get:e[r],enumerable:!0})},Le=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Rt(e))!It.call(t,n)&&n!==r&&F(t,n,{get:()=>e[n],enumerable:!(s=mt(e,n))||s.enumerable});return t};var Ot=(t,e,r)=>(r=t!=null?$t(dt(t)):{},Le(e||!t||!t.__esModule?F(r,"default",{value:t,enumerable:!0}):r,t)),Nt=t=>Le(F({},"__esModule",{value:!0}),t);var x=p((gi,Oe)=>{"use strict";var St="2.0.0",gt=Number.MAX_SAFE_INTEGER||9007199254740991,Tt=16,At=250,qt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Oe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Tt,MAX_SAFE_BUILD_LENGTH:At,MAX_SAFE_INTEGER:gt,RELEASE_TYPES:qt,SEMVER_SPEC_VERSION:St,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var P=p((Ti,Ne)=>{"use strict";var wt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ne.exports=wt});var w=p((T,Se)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:K,MAX_SAFE_BUILD_LENGTH:vt,MAX_LENGTH:xt}=x(),Pt=P();T=Se.exports={};var Ct=T.re=[],Dt=T.safeRe=[],c=T.src=[],yt=T.safeSrc=[],a=T.t={},jt=0,Z="[a-zA-Z0-9-]",Gt=[["\\s",1],["\\d",xt],[Z,vt]],Ft=t=>{for(let[e,r]of Gt)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},$=(t,e,r)=>{let s=Ft(e),n=jt++;Pt(t,n,e),a[t]=n,c[n]=e,yt[n]=s,Ct[n]=new RegExp(e,r?"g":void 0),Dt[n]=new RegExp(s,r?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*");$("NUMERICIDENTIFIERLOOSE","\\d+");$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Z}*`);$("MAINVERSION",`(${c[a.NUMERICIDENTIFIER]})\\.(${c[a.NUMERICIDENTIFIER]})\\.(${c[a.NUMERICIDENTIFIER]})`);$("MAINVERSIONLOOSE",`(${c[a.NUMERICIDENTIFIERLOOSE]})\\.(${c[a.NUMERICIDENTIFIERLOOSE]})\\.(${c[a.NUMERICIDENTIFIERLOOSE]})`);$("PRERELEASEIDENTIFIER",`(?:${c[a.NONNUMERICIDENTIFIER]}|${c[a.NUMERICIDENTIFIER]})`);$("PRERELEASEIDENTIFIERLOOSE",`(?:${c[a.NONNUMERICIDENTIFIER]}|${c[a.NUMERICIDENTIFIERLOOSE]})`);$("PRERELEASE",`(?:-(${c[a.PRERELEASEIDENTIFIER]}(?:\\.${c[a.PRERELEASEIDENTIFIER]})*))`);$("PRERELEASELOOSE",`(?:-?(${c[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[a.PRERELEASEIDENTIFIERLOOSE]})*))`);$("BUILDIDENTIFIER",`${Z}+`);$("BUILD",`(?:\\+(${c[a.BUILDIDENTIFIER]}(?:\\.${c[a.BUILDIDENTIFIER]})*))`);$("FULLPLAIN",`v?${c[a.MAINVERSION]}${c[a.PRERELEASE]}?${c[a.BUILD]}?`);$("FULL",`^${c[a.FULLPLAIN]}$`);$("LOOSEPLAIN",`[v=\\s]*${c[a.MAINVERSIONLOOSE]}${c[a.PRERELEASELOOSE]}?${c[a.BUILD]}?`);$("LOOSE",`^${c[a.LOOSEPLAIN]}$`);$("GTLT","((?:<|>)?=?)");$("XRANGEIDENTIFIERLOOSE",`${c[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);$("XRANGEIDENTIFIER",`${c[a.NUMERICIDENTIFIER]}|x|X|\\*`);$("XRANGEPLAIN",`[v=\\s]*(${c[a.XRANGEIDENTIFIER]})(?:\\.(${c[a.XRANGEIDENTIFIER]})(?:\\.(${c[a.XRANGEIDENTIFIER]})(?:${c[a.PRERELEASE]})?${c[a.BUILD]}?)?)?`);$("XRANGEPLAINLOOSE",`[v=\\s]*(${c[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[a.XRANGEIDENTIFIERLOOSE]})(?:${c[a.PRERELEASELOOSE]})?${c[a.BUILD]}?)?)?`);$("XRANGE",`^${c[a.GTLT]}\\s*${c[a.XRANGEPLAIN]}$`);$("XRANGELOOSE",`^${c[a.GTLT]}\\s*${c[a.XRANGEPLAINLOOSE]}$`);$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${K}})(?:\\.(\\d{1,${K}}))?(?:\\.(\\d{1,${K}}))?`);$("COERCE",`${c[a.COERCEPLAIN]}(?:$|[^\\d])`);$("COERCEFULL",c[a.COERCEPLAIN]+`(?:${c[a.PRERELEASE]})?(?:${c[a.BUILD]})?(?:$|[^\\d])`);$("COERCERTL",c[a.COERCE],!0);$("COERCERTLFULL",c[a.COERCEFULL],!0);$("LONETILDE","(?:~>?)");$("TILDETRIM",`(\\s*)${c[a.LONETILDE]}\\s+`,!0);T.tildeTrimReplace="$1~";$("TILDE",`^${c[a.LONETILDE]}${c[a.XRANGEPLAIN]}$`);$("TILDELOOSE",`^${c[a.LONETILDE]}${c[a.XRANGEPLAINLOOSE]}$`);$("LONECARET","(?:\\^)");$("CARETTRIM",`(\\s*)${c[a.LONECARET]}\\s+`,!0);T.caretTrimReplace="$1^";$("CARET",`^${c[a.LONECARET]}${c[a.XRANGEPLAIN]}$`);$("CARETLOOSE",`^${c[a.LONECARET]}${c[a.XRANGEPLAINLOOSE]}$`);$("COMPARATORLOOSE",`^${c[a.GTLT]}\\s*(${c[a.LOOSEPLAIN]})$|^$`);$("COMPARATOR",`^${c[a.GTLT]}\\s*(${c[a.FULLPLAIN]})$|^$`);$("COMPARATORTRIM",`(\\s*)${c[a.GTLT]}\\s*(${c[a.LOOSEPLAIN]}|${c[a.XRANGEPLAIN]})`,!0);T.comparatorTrimReplace="$1$2$3";$("HYPHENRANGE",`^\\s*(${c[a.XRANGEPLAIN]})\\s+-\\s+(${c[a.XRANGEPLAIN]})\\s*$`);$("HYPHENRANGELOOSE",`^\\s*(${c[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[a.XRANGEPLAINLOOSE]})\\s*$`);$("STAR","(<|>)?=?\\s*\\*");$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var X=p((Ai,ge)=>{"use strict";var Xt=Object.freeze({loose:!0}),Ut=Object.freeze({}),bt=t=>t?typeof t!="object"?Xt:t:Ut;ge.exports=bt});var Q=p((qi,qe)=>{"use strict";var Te=/^[0-9]+$/,Ae=(t,e)=>{let r=Te.test(t),s=Te.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},Vt=(t,e)=>Ae(e,t);qe.exports={compareIdentifiers:Ae,rcompareIdentifiers:Vt}});var I=p((wi,ve)=>{"use strict";var U=P(),{MAX_LENGTH:we,MAX_SAFE_INTEGER:b}=x(),{safeRe:V,t:k}=w(),kt=X(),{compareIdentifiers:v}=Q(),ee=class t{constructor(e,r){if(r=kt(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>we)throw new TypeError(`version is longer than ${we} characters`);U("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let s=e.trim().match(r.loose?V[k.LOOSE]:V[k.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>b||this.major<0)throw new TypeError("Invalid major version");if(this.minor>b||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>b||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let i=+n;if(i>=0&&i<b)return i}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(U("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),v(this.major,e.major)||v(this.minor,e.minor)||v(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let s=this.prerelease[r],n=e.prerelease[r];if(U("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return v(s,n)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let s=this.build[r],n=e.build[r];if(U("build compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return v(s,n)}while(++r)}inc(e,r,s){if(e.startsWith("pre")){if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let n=`-${r}`.match(this.options.loose?V[k.PRERELEASELOOSE]:V[k.PRERELEASE]);if(!n||n[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(s)?1:0;if(this.prerelease.length===0)this.prerelease=[n];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let i=[r,n];s===!1&&(i=[r]),v(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};ve.exports=ee});var q=p((vi,Pe)=>{"use strict";var xe=I(),_t=(t,e,r=!1)=>{if(t instanceof xe)return t;try{return new xe(t,e)}catch(s){if(!r)return null;throw s}};Pe.exports=_t});var De=p((xi,Ce)=>{"use strict";var Ht=q(),Wt=(t,e)=>{let r=Ht(t,e);return r?r.version:null};Ce.exports=Wt});var je=p((Pi,ye)=>{"use strict";var Mt=q(),Yt=(t,e)=>{let r=Mt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};ye.exports=Yt});var Xe=p((Ci,Fe)=>{"use strict";var Ge=I(),Bt=(t,e,r,s,n)=>{typeof r=="string"&&(n=s,s=r,r=void 0);try{return new Ge(t instanceof Ge?t.version:t,r).inc(e,s,n).version}catch(i){return null}};Fe.exports=Bt});var Ve=p((Di,be)=>{"use strict";var Ue=q(),zt=(t,e)=>{let r=Ue(t,null,!0),s=Ue(e,null,!0),n=r.compare(s);if(n===0)return null;let i=n>0,o=i?r:s,l=i?s:r,u=!!o.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}let m=u?"pre":"";return r.major!==s.major?m+"major":r.minor!==s.minor?m+"minor":r.patch!==s.patch?m+"patch":"prerelease"};be.exports=zt});var _e=p((yi,ke)=>{"use strict";var Jt=I(),Kt=(t,e)=>new Jt(t,e).major;ke.exports=Kt});var We=p((ji,He)=>{"use strict";var Zt=I(),Qt=(t,e)=>new Zt(t,e).minor;He.exports=Qt});var Ye=p((Gi,Me)=>{"use strict";var es=I(),rs=(t,e)=>new es(t,e).patch;Me.exports=rs});var ze=p((Fi,Be)=>{"use strict";var ts=q(),ss=(t,e)=>{let r=ts(t,e);return r&&r.prerelease.length?r.prerelease:null};Be.exports=ss});var S=p((Xi,Ke)=>{"use strict";var Je=I(),ns=(t,e,r)=>new Je(t,r).compare(new Je(e,r));Ke.exports=ns});var Qe=p((Ui,Ze)=>{"use strict";var is=S(),os=(t,e,r)=>is(e,t,r);Ze.exports=os});var rr=p((bi,er)=>{"use strict";var cs=S(),as=(t,e)=>cs(t,e,!0);er.exports=as});var _=p((Vi,sr)=>{"use strict";var tr=I(),ls=(t,e,r)=>{let s=new tr(t,r),n=new tr(e,r);return s.compare(n)||s.compareBuild(n)};sr.exports=ls});var ir=p((ki,nr)=>{"use strict";var us=_(),fs=(t,e)=>t.sort((r,s)=>us(r,s,e));nr.exports=fs});var cr=p((_i,or)=>{"use strict";var Es=_(),hs=(t,e)=>t.sort((r,s)=>Es(s,r,e));or.exports=hs});var C=p((Hi,ar)=>{"use strict";var ps=S(),$s=(t,e,r)=>ps(t,e,r)>0;ar.exports=$s});var H=p((Wi,lr)=>{"use strict";var ms=S(),Rs=(t,e,r)=>ms(t,e,r)<0;lr.exports=Rs});var re=p((Mi,ur)=>{"use strict";var ds=S(),Is=(t,e,r)=>ds(t,e,r)===0;ur.exports=Is});var te=p((Yi,fr)=>{"use strict";var Ls=S(),Os=(t,e,r)=>Ls(t,e,r)!==0;fr.exports=Os});var W=p((Bi,Er)=>{"use strict";var Ns=S(),Ss=(t,e,r)=>Ns(t,e,r)>=0;Er.exports=Ss});var M=p((zi,hr)=>{"use strict";var gs=S(),Ts=(t,e,r)=>gs(t,e,r)<=0;hr.exports=Ts});var se=p((Ji,pr)=>{"use strict";var As=re(),qs=te(),ws=C(),vs=W(),xs=H(),Ps=M(),Cs=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return As(t,r,s);case"!=":return qs(t,r,s);case">":return ws(t,r,s);case">=":return vs(t,r,s);case"<":return xs(t,r,s);case"<=":return Ps(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};pr.exports=Cs});var mr=p((Ki,$r)=>{"use strict";var Ds=I(),ys=q(),{safeRe:Y,t:B}=w(),js=(t,e)=>{if(t instanceof Ds)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Y[B.COERCEFULL]:Y[B.COERCE]);else{let u=e.includePrerelease?Y[B.COERCERTLFULL]:Y[B.COERCERTL],h;for(;(h=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||h.index+h[0].length!==r.index+r[0].length)&&(r=h),u.lastIndex=h.index+h[1].length+h[2].length;u.lastIndex=-1}if(r===null)return null;let s=r[2],n=r[3]||"0",i=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return ys(`${s}.${n}.${i}${o}${l}`,e)};$r.exports=js});var dr=p((Zi,Rr)=>{"use strict";var ne=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,r)}return this}};Rr.exports=ne});var g=p((Qi,Nr)=>{"use strict";var Gs=/\s+/g,ie=class t{constructor(e,r){if(r=Xs(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof oe)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(Gs," "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Lr(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&Ws(n[0])){this.set=[n];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let s=0;s<r.length;s++)s>0&&(this.formatted+=" "),this.formatted+=r[s].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&_s)|(this.options.loose&&Hs))+":"+e,n=Ir.get(s);if(n)return n;let i=this.options.loose,o=i?N[L.HYPHENRANGELOOSE]:N[L.HYPHENRANGE];e=e.replace(o,rn(this.options.includePrerelease)),d("hyphen replace",e),e=e.replace(N[L.COMPARATORTRIM],bs),d("comparator trim",e),e=e.replace(N[L.TILDETRIM],Vs),d("tilde trim",e),e=e.replace(N[L.CARETTRIM],ks),d("caret trim",e);let l=e.split(" ").map(E=>Ms(E,this.options)).join(" ").split(/\s+/).map(E=>en(E,this.options));i&&(l=l.filter(E=>(d("loose invalid filter",E,this.options),!!E.match(N[L.COMPARATORLOOSE])))),d("range list",l);let u=new Map,h=l.map(E=>new oe(E,this.options));for(let E of h){if(Lr(E))return[E];u.set(E.value,E)}u.size>1&&u.has("")&&u.delete("");let m=[...u.values()];return Ir.set(s,m),m}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(s=>Or(s,r)&&e.set.some(n=>Or(n,r)&&s.every(i=>n.every(o=>i.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Us(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(tn(this.set[r],e,this.options))return!0;return!1}};Nr.exports=ie;var Fs=dr(),Ir=new Fs,Xs=X(),oe=D(),d=P(),Us=I(),{safeRe:N,t:L,comparatorTrimReplace:bs,tildeTrimReplace:Vs,caretTrimReplace:ks}=w(),{FLAG_INCLUDE_PRERELEASE:_s,FLAG_LOOSE:Hs}=x(),Lr=t=>t.value==="<0.0.0-0",Ws=t=>t.value==="",Or=(t,e)=>{let r=!0,s=t.slice(),n=s.pop();for(;r&&s.length;)r=s.every(i=>n.intersects(i,e)),n=s.pop();return r},Ms=(t,e)=>(d("comp",t,e),t=zs(t,e),d("caret",t),t=Ys(t,e),d("tildes",t),t=Ks(t,e),d("xrange",t),t=Qs(t,e),d("stars",t),t),O=t=>!t||t.toLowerCase()==="x"||t==="*",Ys=(t,e)=>t.trim().split(/\s+/).map(r=>Bs(r,e)).join(" "),Bs=(t,e)=>{let r=e.loose?N[L.TILDELOOSE]:N[L.TILDE];return t.replace(r,(s,n,i,o,l)=>{d("tilde",t,s,n,i,o,l);let u;return O(n)?u="":O(i)?u=`>=${n}.0.0 <${+n+1}.0.0-0`:O(o)?u=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:l?(d("replaceTilde pr",l),u=`>=${n}.${i}.${o}-${l} <${n}.${+i+1}.0-0`):u=`>=${n}.${i}.${o} <${n}.${+i+1}.0-0`,d("tilde return",u),u})},zs=(t,e)=>t.trim().split(/\s+/).map(r=>Js(r,e)).join(" "),Js=(t,e)=>{d("caret",t,e);let r=e.loose?N[L.CARETLOOSE]:N[L.CARET],s=e.includePrerelease?"-0":"";return t.replace(r,(n,i,o,l,u)=>{d("caret",t,n,i,o,l,u);let h;return O(i)?h="":O(o)?h=`>=${i}.0.0${s} <${+i+1}.0.0-0`:O(l)?i==="0"?h=`>=${i}.${o}.0${s} <${i}.${+o+1}.0-0`:h=`>=${i}.${o}.0${s} <${+i+1}.0.0-0`:u?(d("replaceCaret pr",u),i==="0"?o==="0"?h=`>=${i}.${o}.${l}-${u} <${i}.${o}.${+l+1}-0`:h=`>=${i}.${o}.${l}-${u} <${i}.${+o+1}.0-0`:h=`>=${i}.${o}.${l}-${u} <${+i+1}.0.0-0`):(d("no pr"),i==="0"?o==="0"?h=`>=${i}.${o}.${l}${s} <${i}.${o}.${+l+1}-0`:h=`>=${i}.${o}.${l}${s} <${i}.${+o+1}.0-0`:h=`>=${i}.${o}.${l} <${+i+1}.0.0-0`),d("caret return",h),h})},Ks=(t,e)=>(d("replaceXRanges",t,e),t.split(/\s+/).map(r=>Zs(r,e)).join(" ")),Zs=(t,e)=>{t=t.trim();let r=e.loose?N[L.XRANGELOOSE]:N[L.XRANGE];return t.replace(r,(s,n,i,o,l,u)=>{d("xRange",t,s,n,i,o,l,u);let h=O(i),m=h||O(o),E=m||O(l),R=E;return n==="="&&R&&(n=""),u=e.includePrerelease?"-0":"",h?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&R?(m&&(o=0),l=0,n===">"?(n=">=",m?(i=+i+1,o=0,l=0):(o=+o+1,l=0)):n==="<="&&(n="<",m?i=+i+1:o=+o+1),n==="<"&&(u="-0"),s=`${n+i}.${o}.${l}${u}`):m?s=`>=${i}.0.0${u} <${+i+1}.0.0-0`:E&&(s=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),d("xRange return",s),s})},Qs=(t,e)=>(d("replaceStars",t,e),t.trim().replace(N[L.STAR],"")),en=(t,e)=>(d("replaceGTE0",t,e),t.trim().replace(N[e.includePrerelease?L.GTE0PRE:L.GTE0],"")),rn=t=>(e,r,s,n,i,o,l,u,h,m,E,R)=>(O(s)?r="":O(n)?r=`>=${s}.0.0${t?"-0":""}`:O(i)?r=`>=${s}.${n}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,O(h)?u="":O(m)?u=`<${+h+1}.0.0-0`:O(E)?u=`<${h}.${+m+1}.0-0`:R?u=`<=${h}.${m}.${E}-${R}`:t?u=`<${h}.${m}.${+E+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),tn=(t,e,r)=>{for(let s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let s=0;s<t.length;s++)if(d(t[s].semver),t[s].semver!==oe.ANY&&t[s].semver.prerelease.length>0){let n=t[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var D=p((eo,wr)=>{"use strict";var y=Symbol("SemVer ANY"),le=class t{static get ANY(){return y}constructor(e,r){if(r=Sr(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),ae("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===y?this.value="":this.value=this.operator+this.semver.version,ae("comp",this)}parse(e){let r=this.options.loose?gr[Tr.COMPARATORLOOSE]:gr[Tr.COMPARATOR],s=e.match(r);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Ar(s[2],this.options.loose):this.semver=y}toString(){return this.value}test(e){if(ae("Comparator.test",e,this.options.loose),this.semver===y||e===y)return!0;if(typeof e=="string")try{e=new Ar(e,this.options)}catch(r){return!1}return ce(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new qr(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new qr(this.value,r).test(e.semver):(r=Sr(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ce(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ce(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};wr.exports=le;var Sr=X(),{safeRe:gr,t:Tr}=w(),ce=se(),ae=P(),Ar=I(),qr=g()});var j=p((ro,vr)=>{"use strict";var sn=g(),nn=(t,e,r)=>{try{e=new sn(e,r)}catch(s){return!1}return e.test(t)};vr.exports=nn});var Pr=p((to,xr)=>{"use strict";var on=g(),cn=(t,e)=>new on(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));xr.exports=cn});var Dr=p((so,Cr)=>{"use strict";var an=I(),ln=g(),un=(t,e,r)=>{let s=null,n=null,i=null;try{i=new ln(e,r)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!s||n.compare(o)===-1)&&(s=o,n=new an(s,r))}),s};Cr.exports=un});var jr=p((no,yr)=>{"use strict";var fn=I(),En=g(),hn=(t,e,r)=>{let s=null,n=null,i=null;try{i=new En(e,r)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!s||n.compare(o)===1)&&(s=o,n=new fn(s,r))}),s};yr.exports=hn});var Xr=p((io,Fr)=>{"use strict";var ue=I(),pn=g(),Gr=C(),$n=(t,e)=>{t=new pn(t,e);let r=new ue("0.0.0");if(t.test(r)||(r=new ue("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){let n=t.set[s],i=null;n.forEach(o=>{let l=new ue(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||Gr(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||Gr(r,i))&&(r=i)}return r&&t.test(r)?r:null};Fr.exports=$n});var br=p((oo,Ur)=>{"use strict";var mn=g(),Rn=(t,e)=>{try{return new mn(t,e).range||"*"}catch(r){return null}};Ur.exports=Rn});var z=p((co,Hr)=>{"use strict";var dn=I(),_r=D(),{ANY:In}=_r,Ln=g(),On=j(),Vr=C(),kr=H(),Nn=M(),Sn=W(),gn=(t,e,r,s)=>{t=new dn(t,s),e=new Ln(e,s);let n,i,o,l,u;switch(r){case">":n=Vr,i=Nn,o=kr,l=">",u=">=";break;case"<":n=kr,i=Sn,o=Vr,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(On(t,e,s))return!1;for(let h=0;h<e.set.length;++h){let m=e.set[h],E=null,R=null;if(m.forEach(f=>{f.semver===In&&(f=new _r(">=0.0.0")),E=E||f,R=R||f,n(f.semver,E.semver,s)?E=f:o(f.semver,R.semver,s)&&(R=f)}),E.operator===l||E.operator===u||(!R.operator||R.operator===l)&&i(t,R.semver))return!1;if(R.operator===u&&o(t,R.semver))return!1}return!0};Hr.exports=gn});var Mr=p((ao,Wr)=>{"use strict";var Tn=z(),An=(t,e,r)=>Tn(t,e,">",r);Wr.exports=An});var Br=p((lo,Yr)=>{"use strict";var qn=z(),wn=(t,e,r)=>qn(t,e,"<",r);Yr.exports=wn});var Kr=p((uo,Jr)=>{"use strict";var zr=g(),vn=(t,e,r)=>(t=new zr(t,r),e=new zr(e,r),t.intersects(e,r));Jr.exports=vn});var Qr=p((fo,Zr)=>{"use strict";var xn=j(),Pn=S();Zr.exports=(t,e,r)=>{let s=[],n=null,i=null,o=t.sort((m,E)=>Pn(m,E,r));for(let m of o)xn(m,e,r)?(i=m,n||(n=m)):(i&&s.push([n,i]),i=null,n=null);n&&s.push([n,null]);let l=[];for(let[m,E]of s)m===E?l.push(m):!E&&m===o[0]?l.push("*"):E?m===o[0]?l.push(`<=${E}`):l.push(`${m} - ${E}`):l.push(`>=${m}`);let u=l.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return u.length<h.length?u:e}});var it=p((Eo,nt)=>{"use strict";var et=g(),Ee=D(),{ANY:fe}=Ee,G=j(),he=S(),Cn=(t,e,r={})=>{if(t===e)return!0;t=new et(t,r),e=new et(e,r);let s=!1;e:for(let n of t.set){for(let i of e.set){let o=yn(n,i,r);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},Dn=[new Ee(">=0.0.0-0")],rt=[new Ee(">=0.0.0")],yn=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===fe){if(e.length===1&&e[0].semver===fe)return!0;r.includePrerelease?t=Dn:t=rt}if(e.length===1&&e[0].semver===fe){if(r.includePrerelease)return!0;e=rt}let s=new Set,n,i;for(let f of t)f.operator===">"||f.operator===">="?n=tt(n,f,r):f.operator==="<"||f.operator==="<="?i=st(i,f,r):s.add(f.semver);if(s.size>1)return null;let o;if(n&&i){if(o=he(n.semver,i.semver,r),o>0)return null;if(o===0&&(n.operator!==">="||i.operator!=="<="))return null}for(let f of s){if(n&&!G(f,String(n),r)||i&&!G(f,String(i),r))return null;for(let A of e)if(!G(f,String(A),r))return!1;return!0}let l,u,h,m,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,R=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;E&&E.prerelease.length===1&&i.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(let f of e){if(m=m||f.operator===">"||f.operator===">=",h=h||f.operator==="<"||f.operator==="<=",n){if(R&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===R.major&&f.semver.minor===R.minor&&f.semver.patch===R.patch&&(R=!1),f.operator===">"||f.operator===">="){if(l=tt(n,f,r),l===f&&l!==n)return!1}else if(n.operator===">="&&!G(n.semver,String(f),r))return!1}if(i){if(E&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===E.major&&f.semver.minor===E.minor&&f.semver.patch===E.patch&&(E=!1),f.operator==="<"||f.operator==="<="){if(u=st(i,f,r),u===f&&u!==i)return!1}else if(i.operator==="<="&&!G(i.semver,String(f),r))return!1}if(!f.operator&&(i||n)&&o!==0)return!1}return!(n&&h&&!i&&o!==0||i&&m&&!n&&o!==0||R||E)},tt=(t,e,r)=>{if(!t)return e;let s=he(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},st=(t,e,r)=>{if(!t)return e;let s=he(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};nt.exports=Cn});var lt=p((ho,at)=>{"use strict";var pe=w(),ot=x(),jn=I(),ct=Q(),Gn=q(),Fn=De(),Xn=je(),Un=Xe(),bn=Ve(),Vn=_e(),kn=We(),_n=Ye(),Hn=ze(),Wn=S(),Mn=Qe(),Yn=rr(),Bn=_(),zn=ir(),Jn=cr(),Kn=C(),Zn=H(),Qn=re(),ei=te(),ri=W(),ti=M(),si=se(),ni=mr(),ii=D(),oi=g(),ci=j(),ai=Pr(),li=Dr(),ui=jr(),fi=Xr(),Ei=br(),hi=z(),pi=Mr(),$i=Br(),mi=Kr(),Ri=Qr(),di=it();at.exports={parse:Gn,valid:Fn,clean:Xn,inc:Un,diff:bn,major:Vn,minor:kn,patch:_n,prerelease:Hn,compare:Wn,rcompare:Mn,compareLoose:Yn,compareBuild:Bn,sort:zn,rsort:Jn,gt:Kn,lt:Zn,eq:Qn,neq:ei,gte:ri,lte:ti,cmp:si,coerce:ni,Comparator:ii,Range:oi,satisfies:ci,toComparators:ai,maxSatisfying:li,minSatisfying:ui,minVersion:fi,validRange:Ei,outside:hi,gtr:pi,ltr:$i,intersects:mi,simplifyRange:Ri,subset:di,SemVer:jn,re:pe.re,src:pe.src,tokens:pe.t,SEMVER_SPEC_VERSION:ot.SEMVER_SPEC_VERSION,RELEASE_TYPES:ot.RELEASE_TYPES,compareIdentifiers:ct.compareIdentifiers,rcompareIdentifiers:ct.rcompareIdentifiers}});var Ni={};Lt(Ni,{ngUpdate:()=>Oi});module.exports=Nt(Ni);var ht=require("path"),Ie=require("@angular-devkit/schematics"),pt=require("@angular-devkit/schematics/tasks");var ut=require("@angular-devkit/schematics"),Ii=Ot(lt());var ft=t=>JSON.stringify(t,null,2),$e=(t,e,r)=>{t.exists(e)?t.overwrite(e,r):t.create(e,r)};function me(t,e){try{return JSON.parse(e.read(t).toString())}catch(r){throw new ut.SchematicsException(`Error when parsing ${t}: ${r.message}`)}}var Re={},de={"firebase-admin":{dev:!1,version:"0.0.0"},"firebase-functions":{dev:!1,version:"0.0.0"}};var Li=new RegExp(`(?<key>import|export)\\s+(?:(?<alias>[\\w,{}\\s*]+)\\s+from)?\\s*(?:(?<quote>["'])?(?<ref>[@\\w\\s\\\\/.-]+)\\3?)\\s*(?<term>[;\\n])`,"g"),Oi=()=>(t,e)=>{let r=t.exists("package.json")&&me("package.json",t);if(r===void 0)throw new Ie.SchematicsException("Could not locate package.json");Object.keys(Re).forEach(i=>{let o=Re[i];o&&(r[o.dev?"devDependencies":"dependencies"][i]=o.version)}),Object.keys(de).forEach(i=>{let o=de[i];o.dev&&r.devDependencies[i]?r.devDependencies[i]=o.version:r.dependencies[i]&&(r.dependencies[i]=o.version)}),$e(t,"package.json",ft(r)),e.addTask(new pt.NodePackageInstallTask);let s=t.exists("angular.json")&&me("angular.json",t);if(r===void 0)throw new Ie.SchematicsException("Could not locate angular.json");let n=Object.values(s.projects).map(i=>(0,ht.join)(...["/",i.root,i.sourceRoot].filter(o=>!!o)));return t.visit(i=>{var u;if(!i.endsWith(".ts")||i.endsWith(".d.ts")||!n.find(h=>i.startsWith(h)))return;let o=(u=t.read(i))==null?void 0:u.toString();if(!o)return;let l=o.replace(Li,(h,...m)=>{let{alias:E,key:R,ref:f,quote:A,term:J}=m.pop();return f.startsWith("@angular/fire")&&!f.startsWith("@angular/fire/compat")?`${R} ${E} from ${A}${f.replace("@angular/fire","@angular/fire/compat")}${A}${J}`:f.startsWith("firebase")&&!f.startsWith("firebase/compat")?`${R} ${E} from ${A}${f.replace("firebase","firebase/compat")}${A}${J}`:f.startsWith("@firebase")?`${R} ${E} from ${A}${f.replace("@firebase","firebase")}${A}${J}`:h});o!==l&&$e(t,i,l)}),t};0&&(module.exports={ngUpdate});
